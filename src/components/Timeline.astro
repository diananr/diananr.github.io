---
const timelineEvents = [
  {
    year: '2025',
    title: 'Technical Leadership',
    type: 'branch',
    description:
      'Driven by the company’s needs and my growing responsibilities, I completed the “Managing and Leading Developers” learning path on LinkedIn Learning. This experience helped me discover a new passion for the human and strategic side of software development, and it motivates me to continue evolving as a Frontend Engineer while cultivating my Engineering Management skills.',
  },
  {
    year: '2025',
    title: 'Giving Back: Teaching JS',
    type: 'branch',
    description:
      'I joined Rocket Girls as a volunteer instructor. I designed and taught a course on web interactivity with JavaScript. It’s my way of paying it forward, helping more women see programming as a life-changing career—just as Laboratoria once did for me.',
  },
  {
    year: '2024',
    title: 'Professional Engineering Licensure',
    type: 'branch',
    description:
      'Earned the highest professional credential in Peru after a successful technical thesis defense, formalizing advanced engineering expertise beyond the standard Bachelor’s degree.',
  },
  {
    year: '2022',
    title: "Bachelor's Degree",
    type: 'branch',
    description:
      'After years of balancing full-time engineering with my studies, I earned my Bachelor’s degree in Software Engineering from UPC.',
  },
  {
    year: '2021 - Present',
    title: 'Frontend engineer at Foris',
    type: 'main',
    active: true,
    description:
      'I joined Foris, a chilean ed-tech company, in a 100% remote role, which marked my transition into the React ecosystem. Over the years, I became the main frontend reference for our enrollment system. Beyond daily development, I’ve stepped up to coordinate with different squads to build internal tools and scale multiple modules. Working in a multicultural environment with peers from across LatAm has been essential in developing my technical leadership and a high-impact professional mindset.',
  },
  {
    year: '2019 - 2021',
    title: 'Full Stack evolution',
    type: 'main',
    description:
      'Back at Fitco, I took on end-to-end responsibilities, handling everything from database design and backend logic to the final UI. This period was crucial for my technical autonomy; I learned how to translate business requirements into full-stack features and design the entire technical flow.',
  },
  {
    year: '2019',
    title: 'Freelance era',
    type: 'main',
    description:
      'I resigned to focus on my degree but continued building software as a freelancer with friends. During this time, I developed a new product for Fitco. They were so happy with the delivery that they invited me to rejoin the team as a Full Stack Engineer, offering me a part-time hybrid modality that fit my studies.',
  },
  {
    year: '2018',
    title: 'The comeback',
    type: 'main',
    description:
      'I returned to university in mid-2018 to finish what I started. I negotiated a part-time transition with Fitco to balance my professional role with a demanding academic load.',
  },
  {
    year: '2017',
    title: 'My first job',
    type: 'main',
    description:
      'I joined Fitco, a peruvian startup, as one of its first seven employees. I learned Angular and Ionic on the fly to meet our growing needs. I took ownership of integrating international payment gateways (Culqi, PayU and Stripe), which was key to landing our first international clients in Latam. Additionally, I managed the end-to-end creation and deployment of over 20 customized apps for our fitness center clients.',
  },
  {
    year: '2016',
    title: 'Laboratoria',
    type: 'main',
    description:
      'Seeking a way back into tech, I applied to Laboratoria’s intensive bootcamp. This experience was a true turning point. Beyond learning frontend from scratch, I developed my soft skills by learning collaboratively with my peers to prepare for challenges. This balance between technical expertise and teamwork allowed me to grow immensely and graduate 1st in my class.',
  },
  {
    year: '2014 - 2015',
    title: 'Early beginnings',
    type: 'main',
    description:
      'I started my Software Engineering degree at UPC. Although I had to pause my studies in 2015, this was my first encounter with code. It was a tough challenge at first, but I grew to love it when I realized that programming was a powerful tool to turn ideas into reality and create solutions that could help many people.',
  },
];
---

<section class="timeline">
  <div class="timeline__graph">
    <div class="mainTrunk"></div>
    {
      timelineEvents.map((event) => (
        <div
          class={`event ${event.type === 'branch' ? 'event--branch' : 'event--main'} ${event.active ? 'event--active' : ''}`}
        >
          {event.type === 'branch' && <div class="event__connector" />}

          <div class="event__node">
            {event.active && <div class="pulseRing" />}
          </div>

          <div class="event__content">
            <span class="year">{event.year}</span>
            <h3 class="title">{event.title}</h3>
            <p class="description">{event.description}</p>
          </div>
        </div>
      ))
    }
  </div>
</section>

<style lang="scss">
  @import '../assets/styles/mixins.scss';

  @keyframes git-pulse {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(2.5);
      opacity: 0;
    }
  }

  .timeline {
    margin: 80px auto;
    max-width: 800px;
    padding: 0 40px;

    &__graph {
      display: flex;
      flex-direction: column;
      gap: 60px;
      position: relative;

      .mainTrunk {
        background: var(--color-accent-primary);
        bottom: 0;
        left: 8px;
        mask-image: linear-gradient(to bottom, black 95%, transparent 100%);
        position: absolute;
        top: 0;
        width: 4px;
        z-index: 1;
      }

      .event {
        position: relative;
        display: flex;
        align-items: flex-start;
        padding-left: 50px;
        z-index: 2;

        &__node {
          border-radius: 50%;
          box-sizing: border-box;
          height: 20px;
          position: absolute;
          top: 8px;
          width: 20px;
          z-index: 5;

          .pulseRing {
            animation: git-pulse 2s infinite;
            border-radius: 50%;
            border: 2px solid var(--color-accent-primary);
            height: 20px;
            left: -4px;
            position: absolute;
            top: -4px;
            width: 20px;
          }
        }

        &__content {
          .year {
            @include font-style(neutral-40, 12, bold);
            display: block;
          }
          .title {
            @include font-style(neutral-00, 20, bold);
            margin: 2px 0;
          }
          .description {
            @include font-style(neutral-40, 15, normal);
            line-height: 1.5;
          }
        }

        &.event--main {
          .event__node {
            left: 0;
            background: var(--color-accent-primary);
            border: 4px solid var(--color-accent-primary);
          }
        }

        &.event--branch {
          margin-left: 40px;

          .event__connector {
            border-bottom-left-radius: 12px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            border-left: 2px solid rgba(255, 255, 255, 0.2);
            height: 18px;
            left: -31px;
            position: absolute;
            width: 30px;
            z-index: 1;
          }

          .event__node {
            background: var(--color-accent-secondary);
            border: 3px solid var(--color-accent-secondary);
            height: 14px;
            left: -14px;
            top: 10px;
            width: 14px;
          }
        }

        &.event--active {
          .event__content .title {
            color: var(--color-accent-primary);
          }
        }
      }
    }
  }

  @media (max-width: 768px) {
    .timeline {
      &__graph {
        .mainTrunk {
          left: 7px;
        }

        .event {
          padding-left: 35px;

          &.event--branch {
            margin-left: 0;

            .event__connector {
              display: none;
            }

            .event__node {
              left: 2px;
            }
          }
        }
      }
    }
  }
</style>
